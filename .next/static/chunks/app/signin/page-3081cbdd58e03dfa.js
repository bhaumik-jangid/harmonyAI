(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{1845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(5155),s=a(2115),r=a(470),l=a(5695),i=a(3568),o=a(3464),c=a(7383);let u=e=>{let{children:t,className:a,...s}=e;return(0,n.jsx)("button",{className:"w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition ".concat(a),...s,children:t})},d=e=>{let{type:t,placeholder:a,className:s,...r}=e;return(0,n.jsx)("input",{type:t,placeholder:a,className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(s),...r})};function m(){let[e,t]=(0,s.useState)(!1),[a,m]=(0,s.useState)({name:"",email:"",password:""}),g=(0,l.useRouter)(),h=e=>{m({...a,[e.target.name]:e.target.value})},p=async t=>{t.preventDefault();let n=e?a:{email:a.email,password:a.password},s=i.Ay.loading(e?"Signing up...":"Logging in...");try{let t=await o.A.post(e?"https://medgurubackend.onrender.com/api/user/signup":"https://medgurubackend.onrender.com/api/user/signin",n);t.data.sucess?(c.A.set("token",t.data.token,{expires:1,secure:!0}),i.Ay.success(e?"Signed up successfully!":"Logged in successfully!",{id:s}),setTimeout(()=>g.push("/chat"),500)):i.Ay.error(t.data.error||"Authentication failed. Please try again.",{id:s})}catch(e){console.error("Authentication error:",e),i.Ay.error("An unexpected error occurred. Please try again.",{id:s})}};return(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gray-900 px-4 sm:px-6 md:px-8",children:[(0,n.jsx)(i.l$,{}),(0,n.jsx)("h1",{className:"text-white text-2xl font-bold mb-6",children:"HarmonyAI"}),(0,n.jsx)("div",{className:"w-full max-w-md p-6 bg-gray-800 rounded-2xl shadow-xl",children:(0,n.jsxs)(r.P.div,{initial:{height:"auto"},animate:{height:"auto"},className:"overflow-hidden",children:[(0,n.jsx)("h2",{className:"text-white text-xl font-semibold text-center mb-4",children:e?"Sign Up":"Log In"}),(0,n.jsxs)("form",{className:"space-y-4",onSubmit:p,children:[e&&(0,n.jsx)(d,{type:"text",name:"name",placeholder:"Username",value:a.name,onChange:h}),(0,n.jsx)(d,{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:h}),(0,n.jsx)(d,{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:h}),(0,n.jsx)(u,{type:"submit",children:e?"Sign Up":"Log In"})]}),(0,n.jsxs)("p",{className:"text-gray-400 text-center mt-4",children:[e?"Already have an account?":"Don't have an account?",(0,n.jsx)("button",{onClick:()=>t(!e),className:"text-green-400 hover:underline ml-1",children:e?"Log In":"Sign Up"})]})]})})]})}},8787:(e,t,a)=>{Promise.resolve().then(a.bind(a,1845))}},e=>{var t=t=>e(e.s=t);e.O(0,[92,568,521,441,684,358],()=>t(8787)),_N_E=e.O()}]);